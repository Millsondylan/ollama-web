<!-- Ultra-Modern Chat Template: Claude.ai/ChatGPT Style -->
<div class="app-ultra">

  <!-- Modern Sidebar: All Controls & Navigation Inside -->
  <aside class="sidebar-ultra" id="chat-sidebar">

    <!-- Top: Logo + New Chat -->
    <div class="sidebar-header-ultra">
      <div class="logo-ultra">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
        </svg>
        <span>Ollama</span>
      </div>
      <button id="new-chat-btn" class="btn-new-chat-ultra">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
          <path d="M12 5v14M5 12h14"/>
        </svg>
      </button>
    </div>

    <!-- Sessions List (Simplified) -->
    <div class="sessions-ultra">
      <div id="sessions-today" class="session-group-ultra">
        <div class="session-group-title-ultra">Today</div>
        <div class="session-list-ultra"></div>
      </div>
      <div id="sessions-yesterday" class="session-group-ultra">
        <div class="session-group-title-ultra">Yesterday</div>
        <div class="session-list-ultra"></div>
      </div>
      <div id="sessions-week" class="session-group-ultra">
        <div class="session-group-title-ultra">Previous 7 Days</div>
        <div class="session-list-ultra"></div>
      </div>
      <div id="sessions-older" class="session-group-ultra">
        <div class="session-group-title-ultra">Previous 30 Days</div>
        <div class="session-list-ultra"></div>
      </div>
    </div>

    <!-- Bottom: Navigation + Settings -->
    <div class="sidebar-footer-ultra">
      <!-- Settings Button (opens modal with all controls) -->
      <button id="settings-btn-ultra" class="sidebar-btn-ultra">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v10M12 1A11 11 0 0 0 1 12h6m6 0H1M12 1a11 11 0 0 1 11 11h-6m0 0H1"/>
        </svg>
        <span>Settings</span>
      </button>

      <!-- Navigation Links -->
      <button id="nav-sessions-ultra" class="sidebar-btn-ultra">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
        </svg>
        <span>Sessions</span>
      </button>

      <button id="nav-history-ultra" class="sidebar-btn-ultra">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/>
        </svg>
        <span>History</span>
      </button>

      <!-- Theme Toggle -->
      <button id="theme-toggle" class="sidebar-btn-ultra">
        <svg class="theme-icon-light" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
        <svg class="theme-icon-dark" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
        <span class="theme-label-light">Dark mode</span>
        <span class="theme-label-dark" style="display: none;">Light mode</span>
      </button>
    </div>

    <!-- Hidden elements for compatibility -->
    <div style="display: none;">
      <div id="chat-sessions-list"></div>
      <input type="text" id="chat-search" />
      <button id="search-clear"></button>
      <button id="sidebar-toggle"></button>
      <span id="session-count"></span>
    </div>
  </aside>

  <!-- Main Chat Area: CLEAN - No Headers! -->
  <main class="chat-area-ultra">

    <!-- Mobile Sidebar Toggle (Top-Left Corner Only) -->
    <button id="sidebar-toggle-mobile" class="mobile-toggle-ultra">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 12h18M3 6h18M3 18h18"/>
      </svg>
    </button>

    <!-- Chat Messages (Clean, No Headers) -->
    <div id="chat-history" class="chat-history-ultra"></div>

    <!-- Typing Indicator -->
    <div id="typing-indicator" class="typing-indicator-ultra" style="display: none;">
      <div class="typing-content-ultra">
        <div class="typing-dots-ultra">
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>

    <!-- Modern Floating Composer -->
    <div class="composer-ultra">
      <div class="composer-container-ultra">
        <div class="composer-input-wrapper-ultra">
          <textarea
            id="chat-input"
            class="input-ultra"
            placeholder="Message Ollama..."
            aria-label="Chat message"
            rows="1"
          ></textarea>

          <button id="send-btn" class="send-btn-ultra" aria-label="Send message" disabled>
            <svg class="send-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
            </svg>
            <div class="loading-spinner" style="display: none;">
              <div class="spinner-ring"></div>
            </div>
          </button>
        </div>

        <div class="composer-footer-ultra">
          <span id="char-counter" class="char-count-ultra">0 / 4000</span>
        </div>
      </div>
    </div>

    <!-- Hidden elements for compatibility -->
    <div style="display: none;">
      <div id="chat-quick-actions"></div>
      <div id="ai-disclosure"></div>
      <div id="ai-disclosure-message"></div>
      <button id="ai-disclosure-toggle"></button>
      <div id="chat-error"></div>
      <div id="thinking-status"></div>
      <div id="connection-status"></div>
      <div id="session-instructions-preview"></div>
      <div id="attachment-preview"></div>
      <button id="attach-btn"></button>
      <button id="format-help"></button>
      <span class="send-shortcut"></span>
      <div id="chat-title"></div>
      <div id="preset-indicator"></div>
      <div id="connection-indicator"></div>
      <button id="chat-menu-btn"></button>
      <div id="chat-menu"></div>
      <button id="refresh-history"></button>
      <button id="clear-history"></button>
      <select id="chat-instruction-preset-select"></select>
      <button id="chat-instruction-preset-apply"></button>
      <div id="chat-instruction-preset-description"></div>
      <select id="model-selector"></select>
      <input type="checkbox" id="thinking-toggle" />
      <input type="checkbox" id="structured-prompt-toggle" />
      <div id="header-progress"></div>
    </div>
  </main>

  <!-- Settings Modal (Hidden by default) -->
  <div id="settings-modal-ultra" class="modal-ultra" style="display: none;">
    <div class="modal-content-ultra">
      <div class="modal-header-ultra">
        <h2>Settings</h2>
        <button id="close-settings-ultra" class="close-btn-ultra">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>

      <div class="modal-body-ultra">
        <!-- Model Selection -->
        <div class="setting-group-ultra">
          <label class="setting-label-ultra">Model</label>
          <select id="model-selector" class="setting-select-ultra">
            <option>Loading...</option>
          </select>
        </div>

        <!-- Thinking Toggle -->
        <div class="setting-group-ultra">
          <label class="setting-toggle-ultra">
            <div>
              <div class="setting-label-ultra">Show thinking process</div>
              <div class="setting-description-ultra">Display the model's reasoning</div>
            </div>
            <input type="checkbox" id="thinking-toggle" class="toggle-checkbox-ultra" />
            <div class="toggle-switch-ultra"></div>
          </label>
        </div>

        <!-- Structured Prompts Toggle -->
        <div class="setting-group-ultra">
          <label class="setting-toggle-ultra">
            <div>
              <div class="setting-label-ultra">Parse structured prompts</div>
              <div class="setting-description-ultra">Extract XML tags from responses</div>
            </div>
            <input type="checkbox" id="structured-prompt-toggle" class="toggle-checkbox-ultra" checked />
            <div class="toggle-switch-ultra"></div>
          </label>
        </div>

        <!-- Connection Status -->
        <div class="setting-group-ultra">
          <div class="setting-label-ultra">Connection</div>
          <div id="connection-status-display" class="status-display-ultra">
            <span id="connection-status" class="status-badge-ultra">Checking...</span>
          </div>
        </div>

        <!-- Active Model Display -->
        <div class="setting-group-ultra">
          <div class="setting-label-ultra">Active Model</div>
          <div id="active-model-display" class="model-display-ultra">
            <span id="active-model">â€”</span>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
